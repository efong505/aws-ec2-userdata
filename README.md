

***

# üöÄ AWS EC2 Automation Tutorial: Deploying a Web Server with User Data, S3, AMI, and Launch Templates

## üß© Overview

This tutorial walks through the process of automating the deployment of a web server on AWS EC2 using:

*   EC2 User Data scripts
*   S3 for hosting website assets
*   Creating a custom AMI
*   Launch Templates for scalable deployment

***

## üõ†Ô∏è Step 1: Launch EC2 Instance with User Data

Start by launching an EC2 instance (Amazon Linux 2) and use the following **User Data** script to install and start Apache (`httpd`):

```bash
#!/bin/bash
yum update -y
yum install -y httpd
systemctl start httpd
systemctl enable httpd
```

This ensures the web server is ready immediately after the instance boots.

***

## üìÅ Step 2: Upload Website Files to S3

Upload your website files (HTML, CSS, JS, images) to an S3 bucket.\
Example bucket: `ec2-files-ekewaka`\
Region: `us-east-1`\
Example file:\
`https://ec2-files-ekewaka.s3.us-east-1.amazonaws.com/index.html`

Update your `index.html` to reference S3-hosted assets directly:

![Visualization](data:image/png;base64,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)

***

## üß¨ Step 3: Create an AMI from the Instance

Once your EC2 instance is configured and tested:

1.  Go to **EC2 Dashboard > Instances**
2.  Select your instance
3.  Click **Actions > Image > Create Image**
4.  Name your AMI and create it

This AMI now contains your pre-installed web server setup.

***

## üì¶ Step 4: Create a Launch Template Using the AMI

1.  Go to **EC2 Dashboard > Launch Templates**
2.  Click **Create launch template**
3.  Use the AMI you created
4.  Add the following **User Data** script to pull the latest `index.html` from S3:

```bash
#!/bin/bash
yum update -y
yum install -y httpd
systemctl start httpd
systemctl enable httpd

curl -o /var/www/html/index.html https://ec2-files-ekewaka.s3.us-east-1.amazonaws.com/index.html
```

This keeps your instance lightweight and avoids hitting the user data size limit by offloading large files to S3.

***

## üó∫Ô∏è Architecture Diagram

    [S3 Bucket]
         |
         v
    [index.html + assets]
         |
         v
    [EC2 Instance]
      - Apache installed via User Data
      - index.html curled from S3
         |
         v
    [AMI Created]
         |
         v
    [Launch Template]
      - Uses AMI
      - Includes User Data script
         |
         v
    [New EC2 Instances]
      - Automatically configured web server

***

Let me know if you'd like this published to GitHub or styled for a documentation site!

Would you like me to generate a downloadable `.md` file again, or help you upload this to your S3 bucket or GitHub repo?
